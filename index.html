<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
  <title>Address book</title>
</head>

<body>


  <div class="ui placeholder segment">
    <div class="ui two column very relaxed stackable grid">
      <div class="column">
        <div class="ui form">
          
          <div class="ui centered large blue header">Contacts</div>

          <div class="ui blue submit button" id="add-contact">Add Contact</div>

          <div class="ui form" id="new-contact-form">
            <div class="field">
              <label for="nameFor">Name</label>
              <div class="ui left icon input">
                <input type="text" placeholder="Username" id="contact-name">
                <i class="user icon"></i>
              </div>
            </div>

            <div class="field">
              <label for="emailFor">Email</label>
              <div class="ui left icon input">
                <input type="email" id="contact-email">
                <i class="at icon"></i>
              </div>
            </div>

            <div class="field">
              <label for="phoneFor">Phone</label>
              <div class="ui left icon input">
                <input type="phone" id="contact-phone">
                <i class="phone icon"></i>
              </div>
            </div>

            <div class="field">
              <label for="companyFor">Company</label>
              <div class="ui left icon input">
                <input type="company" id="contact-company">
                <i class="building icon"></i>
              </div>
            </div>

            <div class="field">
              <label for="notesFor">Notes</label>
              <div class="ui left icon input">
                <input type="notes" id="contact-notes">
                <i class="sticky note icon"></i>
              </div>
            </div>

            <div class="field">
              <label for="twitterFor">Twitter</label>
              <div class="ui left icon input">
                <input type="twitter" id="contact-twitter">
                <i class="twitter icon"></i>
              </div>
            </div>

           <div class="ui blue submit button" id="save-contact-btn">Save Contact</div> 

            <!--<div class="ui gray submit button">New Contact</div> -->

          </div>
        </div>

      </div>
      <div class="contact-list"></div>

     
    </div>
    <script> //this could be moved into app.js.. I think.
        function deleteContact(id){ 
          console.log("delete contact " + id);

          let contacts = JSON.parse(localStorage.getItem('contacts')) || []

          //go through contacts until some item matches the contact.id
          contacts.forEach(contact => {
            if(contact.id == id){
              //localStorage.removeItem('contacts');

              //remove that item
              delete contacts[contact]; //funkar inte :-(

              localStorage.clear();//cleaning in between uses?

              //save into local storage the ramaining contacts
              localStorage.setItem('contacts', JSON.stringify(contacts))

              //maybe reload is needed to draw the reamaining contacts
              location.reload;
              
            }
          })
        }

    </script>
    </body>
    
    <script src="./dist/bundle.js"></script>


</html>